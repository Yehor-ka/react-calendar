(this["webpackJsonpreact-calendar"]=this["webpackJsonpreact-calendar"]||[]).push([[0],{85:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),i=n(11),c=n.n(i),o=(n(85),n(20)),r=n(54),s=n(17),d=n(64),u=n(51),b=n(65),j=n(66),v=n(38),O=n(136),h=n(127),p=n(138),g=n(131),m=n(132),f=n(137),x=n(130),C=n(134),y=n(63),k=n.n(y),D=n(126),S=n(6);var I=function(e){var t=e.eventOpenNow,n=e.setEventOpenNow,a=e.dateClickItem,i=e.isOpen,c=e.onClose,r=e.handleAddEvent,d=e.isOpenEdit,u=e.onCloseEdit,b=e.setEventInfo,j=e.eventsInfo,y=e.isWholeDay,I=e.setIsWholeDay,N=l.a.useState({title:"",date:a,allDay:!0,time:"08:30",description:"",backgroundColor:""}),w=Object(s.a)(N,2),E=w[0],W=w[1],V=l.a.useState(!0),M=Object(s.a)(V,2),P=M[0],F=M[1],G=function(){W({title:"",date:"",allDay:y,time:"08:00",description:"",backgroundColor:""}),I(!0),F(!0),c(!1),u(!1)},J=function(e){var t=e.target.name,a=e.target.value;"allDay"!==t||"true"!==a&&!0!==a?"allDay"!==t||"false"!==a&&!1!==a||I(!1):I(!0),"title"===t&&(0===a.length||a.length>30)?F(!0):(F(!1),i?W((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(v.a)({},t,a))})):n((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(v.a)({},t,a))})))};return Object(S.jsxs)(O.a,{open:i||d,onClose:G,children:[Object(S.jsx)(D.a,{onClick:G,style:{position:"absolute",top:"5px",right:"5px"},"aria-label":"delete",children:Object(S.jsx)(k.a,{})}),Object(S.jsxs)(h.a,{style:{marginTop:"25px"},children:[Object(S.jsx)(p.a,{name:"title",label:"event name",fullWidth:!0,onChange:J,defaultValue:d?t.title:""}),Object(S.jsx)(p.a,{onChange:J,name:"date",label:"event date",type:"date",defaultValue:d?t.date:"",fullWidth:!0,InputLabelProps:{shrink:!0}}),Object(S.jsxs)(x.a,{style:{width:"100%"},children:[Object(S.jsx)(f.a,{htmlFor:"age-native-simple",children:"event time"}),Object(S.jsxs)(C.a,{native:!0,defaultValue:!d||t.allDay,onChange:J,inputProps:{name:"allDay",id:"age-native-simple"},children:[Object(S.jsx)("option",{value:!0,children:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c"}),Object(S.jsx)("option",{value:!1,children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"})]})]}),y?null:Object(S.jsx)(p.a,{onChange:J,label:"event time",type:"time",name:"time",defaultValue:d?t.time:"08:30",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(S.jsx)(p.a,{onChange:J,defaultValue:d?t.description:"",name:"description",label:"notes",fullWidth:!0}),Object(S.jsxs)(x.a,{style:{width:"100%"},children:[Object(S.jsx)(f.a,{htmlFor:"age-native-simple",children:"event color"}),Object(S.jsxs)(C.a,{native:!0,defaultValue:d?t.backgroundColor:"",onChange:J,inputProps:{name:"backgroundColor",id:"age-native-simple"},children:[Object(S.jsx)("option",{"aria-label":"None",value:""}),Object(S.jsx)("option",{value:"red",children:"Red"}),Object(S.jsx)("option",{value:"green",children:"Green"}),Object(S.jsx)("option",{value:"blue",children:"Blue"}),Object(S.jsx)("option",{value:"orange",children:"Orange"})]})]}),Object(S.jsx)(g.a,{children:d?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{onClick:function(){return function(e){t.eventClick.event.remove();var n=j.filter((function(t){return Number(t.id)!==Number(e)}));b(n),F(!0),u(!1)}(t.eventClick.event.id)},children:"Remove"}),Object(S.jsx)(m.a,{onClick:function(){console.log(t.time,E.time);var e=j.map((function(e){return Number(e.id)===Number(t.id)?{title:t.title,date:t.date,backgroundColor:t.backgroundColor,allDay:y,time:t.time,start:new Date("".concat(t.date," ").concat(t.time)),description:t.description,id:Number(t.id)}:e}));b(e),u(!1),W({title:"",date:"",allDay:y,time:"08:00",description:"",backgroundColor:""}),I(!0),F(!0)},disabled:P,children:"Edit"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{onClick:G,children:"Cancel"}),Object(S.jsx)(m.a,{onClick:function(){r(E),W({title:"",date:"",allDay:"true",description:"",time:"08:00",backgroundColor:""}),I(!0),F(!0),c(!1)},disabled:P,children:"Save"})]})})]})]})};var N=function(){var e=l.a.useState(JSON.parse(localStorage.getItem("events"))||[]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=l.a.useState(!1),c=Object(s.a)(i,2),v=c[0],O=c[1],h=l.a.useState(!1),p=Object(s.a)(h,2),g=p[0],m=p[1],f=l.a.useState(!0),x=Object(s.a)(f,2),C=x[0],y=x[1],k=l.a.useState({}),D=Object(s.a)(k,2),N=D[0],w=D[1],E=l.a.useState(""),W=Object(s.a)(E,2),V=W[0],M=W[1],P=l.a.useState(Number(localStorage.getItem("eventId"))||0),F=Object(s.a)(P,2),G=F[0],J=F[1];return l.a.useEffect((function(){localStorage.setItem("eventId",G)}),[G]),l.a.useEffect((function(){localStorage.setItem("events",JSON.stringify(n))}),[n]),Object(S.jsxs)("div",{children:[Object(S.jsx)(d.a,{initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},editable:!0,droppable:!0,plugins:[u.b,j.a,b.a],events:n,dateClick:function(e){M(e.dateStr),O(!0)},eventClick:function(e){console.log("start","".concat(e.event.start).slice(16,21));var t="".concat(e.event.start).slice(16,21);y(e.event.allDay),w({title:e.event.title,date:e.event.startStr.slice(0,10),allDay:e.event.allDay,time:t,id:e.event.id,description:e.event._def.extendedProps.description,backgroundColor:e.event.backgroundColor,eventClick:e}),m(!0)},eventDrop:function(e){var t=function(e){var t=1===String(e.getDate()).length?"0"+String(e.getDate()):e.getDate(),n=1===String(e.getMonth()).length?"0"+String(e.getMonth()+1):e.getMonth()+1;return e.getFullYear()+"-"+n+"-"+t}(new Date(e.event._instance.range.start));console.log(t);var l=function(e,t){for(var n=0;n<e.length;n++)if(Number(e[n].id)===Number(t))return e[n]}(n,e.event._def.publicId);console.log(l);var i=n.filter((function(t){return Number(t.id)!==Number(e.event._def.publicId)})),c=[].concat(Object(r.a)(i),[Object(o.a)(Object(o.a)({},l),{},{date:t,start:new Date("".concat(t,"T").concat(l.time,":00"))})]);console.log("new events",c),a(c)}}),Object(S.jsx)(I,{eventsInfo:n,setEventInfo:a,eventOpenNow:N,setEventOpenNow:w,isOpenEdit:g,onCloseEdit:m,dateClickItem:V,isOpen:v,onClose:O,handleAddEvent:function(e){if(""!==e.date){var t="true"===e.allDay||!0===e.allDay;console.log(t),J((function(e){return e+1})),a((function(n){return[].concat(Object(r.a)(n),[Object(o.a)(Object(o.a)({},e),{},{id:G,allDay:t,start:new Date("".concat(e.date,"T").concat(e.time,":00"))})])}))}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443")},isWholeDay:C,setIsWholeDay:y})]})},w=n(133);var E=function(){return Object(S.jsx)(w.a,{maxWidth:"lg",children:Object(S.jsx)(N,{})})};c.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.a91cf094.chunk.js.map